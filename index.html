<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuardOps - Revolutionary Security Guard Management Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <style>
        [x-cloak] { display: none !important; }
        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
            overflow-y: auto;
            margin: 0;
            min-height: 100vh;
        }
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .content {
            position: relative;
            z-index: 1;
        }
        .shield-logo {
            filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.3));
        }
        .gradient-text {
            background: linear-gradient(to right, #00ffff, #00ff87);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .glass-morph {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .timer-value {
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .cta-button {
            background: linear-gradient(45deg, #00ffff, #00ff87);
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        .input-glow:focus {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>

    <div class="content w-full max-w-4xl mx-auto px-4 sm:px-6 py-16 sm:py-24 min-h-screen flex items-center justify-center">
        <div class="text-center">
            <div class="flex items-center justify-center gap-3 mb-4 sm:mb-6">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="shield-logo">
                    <path d="M11.302 21.6147C11.5234 21.7439 11.6341 21.8085 11.7903 21.842C11.9116 21.868 12.0884 21.868 12.2097 21.842C12.3659 21.8085 12.4766 21.7439 12.698 21.6147C14.646 20.4783 20 16.9083 20 11.9999V7.21747C20 6.41796 20 6.0182 19.8692 5.67457C19.7537 5.37101 19.566 5.10015 19.3223 4.8854C19.0465 4.64231 18.6722 4.50195 17.9236 4.22122L12.5618 2.21054C12.3539 2.13258 12.25 2.0936 12.143 2.07815C12.0482 2.06444 11.9518 2.06444 11.857 2.07815C11.75 2.0936 11.6461 2.13258 11.4382 2.21054L6.0764 4.22122C5.3278 4.50195 4.9535 4.64231 4.67766 4.8854C4.43398 5.10015 4.24627 5.37101 4.13076 5.67457C4 6.0182 4 6.41796 4 7.21747V11.9999C4 16.9083 9.35396 20.4783 11.302 21.6147Z" stroke="url(#shield-gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                        <linearGradient id="shield-gradient" x1="4" y1="2" x2="20" y2="22" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#00ffff"/>
                            <stop offset="1" stop-color="#00ff87"/>
                        </linearGradient>
                    </defs>
                </svg>
                <div class="text-2xl sm:text-3xl font-bold gradient-text tracking-wider">GUARDOPS</div>
            </div>
            
            <h1 class="text-5xl sm:text-6xl lg:text-8xl font-bold mb-6 sm:mb-8 leading-tight tracking-tight">
                <span class="gradient-text block mb-2">Secure.</span>
                <span class="gradient-text block mb-2" style="opacity: 0.9">Efficient.</span>
                <span class="gradient-text block" style="opacity: 0.8">Future.</span>
            </h1>

            <p class="text-lg sm:text-xl text-gray-400 mb-8 sm:mb-12 max-w-2xl mx-auto leading-relaxed px-4">
                The next generation of security guard management
                <span class="block mt-2 sm:mt-3 gradient-text font-semibold">Launching September 1, 2025</span>
            </p>
            
            <!-- Countdown Timer -->
            <div x-data="timer()" x-init="init()" class="grid grid-cols-2 sm:flex sm:justify-center gap-4 sm:gap-6 md:gap-8 mb-12 sm:mb-16 px-4">
                <div class="glass-morph rounded-2xl p-4 sm:p-6 w-full sm:w-24 md:w-28">
                    <div class="text-2xl sm:text-3xl md:text-4xl font-bold timer-value" x-text="days" x-cloak>00</div>
                    <div class="text-gray-400 text-xs sm:text-sm mt-1 sm:mt-2">DAYS</div>
                </div>
                <div class="glass-morph rounded-2xl p-4 sm:p-6 w-full sm:w-24 md:w-28">
                    <div class="text-2xl sm:text-3xl md:text-4xl font-bold timer-value" x-text="hours" x-cloak>00</div>
                    <div class="text-gray-400 text-xs sm:text-sm mt-1 sm:mt-2">HOURS</div>
                </div>
                <div class="glass-morph rounded-2xl p-4 sm:p-6 w-full sm:w-24 md:w-28">
                    <div class="text-2xl sm:text-3xl md:text-4xl font-bold timer-value" x-text="minutes" x-cloak>00</div>
                    <div class="text-gray-400 text-xs sm:text-sm mt-1 sm:mt-2">MINUTES</div>
                </div>
                <div class="glass-morph rounded-2xl p-4 sm:p-6 w-full sm:w-24 md:w-28">
                    <div class="text-2xl sm:text-3xl md:text-4xl font-bold timer-value" x-text="seconds" x-cloak>00</div>
                    <div class="text-gray-400 text-xs sm:text-sm mt-1 sm:mt-2">SECONDS</div>
                </div>
            </div>

            <!-- Waitlist Button -->
            <div class="max-w-md mx-auto px-4" x-data="waitlist()" x-init="init()">
                <button 
                    @click="showForm = true"
                    class="w-full sm:w-auto cta-button text-black px-6 py-3 rounded-xl font-medium text-base">
                    Join Waitlist
                </button>

                <!-- Modal Form -->
                <div x-show="showForm" 
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0"
                     x-transition:enter-end="opacity-100"
                     x-transition:leave="transition ease-in duration-200"
                     x-transition:leave-start="opacity-100"
                     x-transition:leave-end="opacity-0"
                     @keydown.escape.window="showForm = false"
                     class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
                    <div class="glass-morph w-full max-w-md rounded-2xl p-6 relative"
                         @click.away="showForm = false">
                        <button @click="showForm = false" 
                                class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                        
                        <h3 class="text-2xl font-bold mb-6 gradient-text">Join Our Waitlist</h3>
                        
                        <form @submit.prevent="submitForm()" class="space-y-4">
                            <div>
                                <label class="block text-gray-400 mb-2 text-sm">Email</label>
                                <input type="email" 
                                       x-model="email"
                                       x-ref="emailInput"
                                       required
                                       class="w-full px-4 py-3 rounded-xl bg-black border border-gray-800 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 input-glow">
                            </div>
                            
                            <div>
                                <label class="block text-gray-400 mb-2 text-sm">Company Name</label>
                                <input type="text" 
                                       x-model="company_name"
                                       required
                                       class="w-full px-4 py-3 rounded-xl bg-black border border-gray-800 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 input-glow">
                            </div>
                            
                            <div>
                                <label class="block text-gray-400 mb-2 text-sm">Company Size</label>
                                <input type="number" 
                                       x-model="company_size"
                                       required
                                       min="1"
                                       class="w-full px-4 py-3 rounded-xl bg-black border border-gray-800 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 input-glow">
                            </div>
                            
                            <div>
                                <label class="block text-gray-400 mb-2 text-sm">Current Software</label>
                                <select x-model="currently_using"
                                        required
                                        class="w-full px-4 py-3 rounded-xl bg-black border border-gray-800 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 input-glow">
                                    <option value="" disabled selected>Select current software...</option>
                                    <option value="Silvertrac">Silvertrac</option>
                                    <option value="Trackforce">Trackforce</option>
                                    <option value="Officer Reports">Officer Reports</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <button type="submit" 
                                    class="w-full cta-button text-black px-6 py-3 rounded-xl font-medium text-base mt-6"
                                    :disabled="loading"
                                    :class="{'opacity-50 cursor-not-allowed': loading}">
                                <span x-show="!loading">Submit</span>
                                <span x-show="loading">Submitting...</span>
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Success Message -->
                <div x-show="showSuccess" 
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0 transform translate-y-2"
                     x-transition:enter-end="opacity-100 transform translate-y-0"
                     x-transition:leave="transition ease-in duration-200"
                     x-transition:leave-start="opacity-100 transform translate-y-0"
                     x-transition:leave-end="opacity-0 transform translate-y-2"
                     class="mt-4 p-4 rounded-lg bg-green-500 bg-opacity-10 border border-green-500 text-green-500 relative">
                    <button @click="showSuccess = false" class="absolute top-3 right-3 text-green-500 hover:text-green-400 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div class="space-y-2 pr-6">
                        <p>Thank you for joining our waitlist! We've sent you a confirmation email.</p>
                        <p class="text-sm">If you have any questions, feel free to contact us at <a href="mailto:waitlist@guardops.cloud" class="underline hover:text-green-400 transition-colors">waitlist@guardops.cloud</a></p>
                    </div>
                </div>
                <!-- Error Message -->
                <div x-show="error" 
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0 transform translate-y-2"
                     x-transition:enter-end="opacity-100 transform translate-y-0"
                     x-transition:leave="transition ease-in duration-200"
                     x-transition:leave-start="opacity-100 transform translate-y-0"
                     x-transition:leave-end="opacity-0 transform translate-y-2"
                     class="mt-4 p-3 rounded-lg bg-red-500 bg-opacity-10 border border-red-500 text-red-500">
                    <span x-text="error"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Waitlist Form Handler
        function waitlist() {
            return {
                init() {
                    this.$watch('showForm', value => {
                        if (value) {
                            setTimeout(() => this.$refs.emailInput.focus(), 50);
                        }
                    });
                },
                email: '',
                company_name: '',
                company_size: '',
                currently_using: '',
                ip_address: '',
                loading: false,
                showSuccess: false,
                showForm: false,
                error: null,
                async submitForm() {
                    if (!this.email || !this.company_name || !this.company_size || !this.currently_using) {
                        this.error = 'Please fill in all required fields';
                        return;
                    }
                    if (!this.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                        this.error = 'Please enter a valid email address';
                        return;
                    }

                    this.loading = true;
                    this.error = null;

                    try {
                        // Get IP address before form submission
                        const ipResponse = await fetch('https://api.ipify.org?format=json');
                        const ipData = await ipResponse.json();
                        this.ip_address = ipData.ip;

                        const response = await fetch('https://wwmvnqbmomsgtczsmhmu.supabase.co/rest/v1/waitlist', {
                            method: 'POST',
                            headers: {
                                'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3bXZucWJtb21zZ3RjenNtaG11Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwMTMwMTgsImV4cCI6MjA1NzU4OTAxOH0.XijDRYt_fhCRzqMYjLRf28PalC9RoQMtZXMqk9Z5TNE',
                                'Content-Type': 'application/json',
                                'Prefer': 'return=minimal'
                            },
                            body: JSON.stringify({
                                email: this.email,
                                company_name: this.company_name,
                                company_size: parseInt(this.company_size),
                                currently_using: this.currently_using,
                                ip_address: this.ip_address
                            })
                        });

                        if (!response.ok) {
                            throw new Error('Failed to submit email');
                        }

                        // Reset form
                        this.email = '';
                        this.company_name = '';
                        this.company_size = '';
                        this.currently_using = '';
                        this.showForm = false;
                        this.showSuccess = true;
                    } catch (err) {
                        this.error = 'Failed to join waitlist. Please try again.';
                    } finally {
                        this.loading = false;
                    }
                }
            }
        }

        // Three.js Background Animation
        const canvas = document.getElementById('bg-canvas');
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        // Create particles
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 5000;
        const posArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 50;
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.005,
            color: 0x00ffff,
        });

        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        camera.position.z = 30;

        function animate() {
            requestAnimationFrame(animate);
            particlesMesh.rotation.y += 0.0004;
            particlesMesh.rotation.x += 0.0002;
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        window.addEventListener('resize', onWindowResize);
        onWindowResize();
        animate();

        // Countdown Timer
        function calculateTimeRemaining() {
            const target = new Date('2025-09-01T00:00:00-07:00'); // Pacific Time
            const now = new Date();
            const difference = target - now;

            const d = Math.floor(difference / (1000 * 60 * 60 * 24));
            const h = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((difference % (1000 * 60)) / 1000);

            return {
                days: d.toString().padStart(2, '0'),
                hours: h.toString().padStart(2, '0'),
                minutes: m.toString().padStart(2, '0'),
                seconds: s.toString().padStart(2, '0')
            };
        }

        function timer() {
            const initial = calculateTimeRemaining();
            return {
                days: initial.days,
                hours: initial.hours,
                minutes: initial.minutes,
                seconds: initial.seconds,
                init() {
                    setInterval(() => {
                        const time = calculateTimeRemaining();
                        this.days = time.days;
                        this.hours = time.hours;
                        this.minutes = time.minutes;
                        this.seconds = time.seconds;
                    }, 1000);
                }
            }
        }
    </script>
</body>
</html>
